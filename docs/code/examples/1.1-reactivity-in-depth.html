<script>
	// problem
	let price = 10
	let quantity = 4
	let sales = price * quantity

	console.log(sales) // 40

	price = 20

	console.log(sales) // 40

	// solution
	let dep = new Set()

	let effect = () => {
		sales = price * quantity
	}

	function track() {
		dep.add(effect)
	}

	function trigger() {
		dep.forEach(effect => effect())
	}

    track()

    price = 20
    
    trigger()
    console.log(sales)
</script>
